<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>After School Activities</title>

  <!-- Your global stylesheet -->
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div id="app"></div>

  <!-- Vue 3 (global build) -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>

  <!-- SFC Loader: lets the browser load .vue files directly -->
  <script src="https://unpkg.com/vue3-sfc-loader/dist/vue3-sfc-loader.js"></script>

  <script>
    // Loader options to fetch .vue files and inject their <style> blocks
    const options = {
      moduleCache: { vue: Vue },
      getFile(url) {
        return fetch(url).then(async res => {
          if (!res.ok) {
            const text = await res.text();
            throw new Error(`Fetch failed: ${url} (${res.status})\n${text}`);
          }
          return res.text();
        });
      },
      addStyle(textContent) {
        const style = document.createElement('style');
        style.textContent = textContent;
        document.head.appendChild(style);
      }
    };

    // Async-load App.vue (and it will import components/**.vue internally)
    const { loadModule } = window['vue3-sfc-loader'];

    const App = Vue.defineAsyncComponent(() => loadModule('./App.vue', options));

    const app = Vue.createApp({
      components: { App },
      template: '<App />'
    });

    app.mount('#app');
  </script>
</body>
</html>
